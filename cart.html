<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cart â€“ Gather & Game CafÃ©</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f6f1e7;
  padding: 20px;
}

h1 {
  text-align: center;
}

.cart-container {
  max-width: 700px;
  margin: auto;
  background: #fff;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.cart-item {
  display: flex;
  justify-content: space-between;
  padding: 10px 0;
  border-bottom: 1px solid #ddd;
}

.cart-item:last-child {
  border-bottom: none;
}

.total {
  font-size: 18px;
  font-weight: bold;
  text-align: right;
  margin-top: 15px;
}

.empty {
  text-align: center;
  color: #666;
}

.actions {
  display: flex;
  justify-content: space-between;
  margin-top: 20px;
}

button, a {
  padding: 12px 18px;
  border-radius: 999px;
  border: none;
  text-decoration: none;
  font-weight: bold;
  cursor: pointer;
}

.back-btn {
  background: #7b4b2a;
  color: #fff;
}

.checkout-btn {
  background: #3fa55b;
  color: #fff;
}
</style>
</head>

<body>

<h1>ðŸ›’ Your Cart</h1>

<div class="cart-container">
  <div id="table-info"></div>
  <div id="cart-items"></div>
  <div id="total" class="total"></div>

  <div class="actions">
    <a id="backBtn" class="back-btn">â¬… Back to Menu</a>
    <button class="checkout-btn">Place Order</button>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {

  /* ================================
     1. GET TABLE NUMBER
  ================================= */
  const params = new URLSearchParams(window.location.search);
  const tableNo = params.get("table") || "default";
  const CART_KEY = `cart_table_${tableNo}`;

  document.getElementById("table-info").innerHTML =
    `<strong>Table No:</strong> ${tableNo}`;

  /* ================================
     2. LOAD CART
  ================================= */
  const cart = JSON.parse(localStorage.getItem(CART_KEY)) || {};
  const cartItemsDiv = document.getElementById("cart-items");
  const totalDiv = document.getElementById("total");

  let total = 0;

  if (Object.keys(cart).length === 0) {
    cartItemsDiv.innerHTML = `<p class="empty">Your cart is empty</p>`;
    totalDiv.innerText = "";
  } else {
    for (const name in cart) {
      const item = cart[name];
      const itemTotal = item.price * item.qty;
      total += itemTotal;

      cartItemsDiv.innerHTML += `
        <div class="cart-item">
          <div>
            <strong>${name}</strong><br>
            â‚¹${item.price} Ã— ${item.qty}
          </div>
          <div>â‚¹${itemTotal}</div>
        </div>
      `;
    }

    totalDiv.innerText = `Total: â‚¹${total}`;
  }

  /* ================================
     3. BACK TO MENU (TABLE SAFE)
  ================================= */
  document.getElementById("backBtn").href =
    `index.html?table=${tableNo}`;

});
</script>

</body>
</html>


